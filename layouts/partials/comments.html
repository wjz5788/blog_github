<!-- 评论系统 -->
<div class="comments-section">
  <h3 class="comments-title">💬 评论</h3>
  <div id="vcomments"></div>
</div>

<style>
.comments-section {
  margin: 40px 0;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
}

.comments-title {
  margin-bottom: 20px;
  color: #333;
  font-size: 1.5em;
  border-bottom: 2px solid #007acc;
  padding-bottom: 10px;
}

/* Valine 评论样式优化 */
#vcomments {
  margin-top: 20px;
}

.v .vwrap {
  border: 1px solid #ddd;
  border-radius: 8px;
}

.v .vwrap .vheader {
  border-bottom: 1px solid #eee;
}

.v .vwrap .vheader .vinput {
  border: 1px solid #ddd;
  border-radius: 4px;
}

.v .vwrap .vheader .vinput:focus {
  border-color: #007acc;
  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2);
}

.v .vwrap .vbtn {
  background: #007acc;
  border: none;
  border-radius: 4px;
  color: white;
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.v .vwrap .vbtn:hover {
  background: #005a9e;
}

.v .vlist .vcard {
  border-bottom: 1px solid #eee;
  padding: 15px 0;
}

.v .vlist .vcard .vhead .vnick {
  color: #007acc;
  font-weight: bold;
}

.v .vlist .vcard .vcontent {
  margin: 10px 0;
  line-height: 1.6;
}

.v .vlist .vcard .vmeta {
  color: #999;
  font-size: 12px;
}
</style>

<script src="https://unpkg.com/valine/dist/Valine.min.js"></script>
<script>
// 初始化评论系统
document.addEventListener('DOMContentLoaded', function() {
  // 检查是否在文章页面
  if (document.querySelector('article')) {
    new Valine({
      el: '#vcomments',
      appId: '{{ .Site.Params.valine.appId | default "YOUR_APPID" }}',
      appKey: '{{ .Site.Params.valine.appKey | default "YOUR_APPKEY" }}',
      placeholder: '写下你的评论...',
      notify: true,
      verify: true,
      avatar: 'monsterid',
      meta: ['nick', 'mail', 'link'],
      pageSize: 10,
      lang: 'zh-CN',
      visitor: true,
      highlight: true,
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: {},
      enableQQ: false,
      requiredFields: ['nick'],
      appId: '{{ .Site.Params.valine.appId | default "YOUR_APPID" }}',
      appKey: '{{ .Site.Params.valine.appKey | default "YOUR_APPKEY" }}'
    });
  }
});
</script>
